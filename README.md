![example workflow](https://github.com/JediMode/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)

# Проект YaMDb
 Проект YaMDb собирает отзывы пользователей на произведения. Произведения делятся на категории: «Книги», «Фильмы», «Музыка». 
 В каждой категории есть произведения: книги, фильмы или музыка. 
 Произведению может быть присвоен жанр. Новые жанры может создавать только администратор.
 Пользователи могут оставить к произведениям текстовые отзывы и поставить произведению оценку (в диапазоне от одного до десяти).
 Из пользовательских оценок формируется усреднённая оценка произведения — рейтинг.
 
 Аутентификация по JWT-токену.  
 Поддерживает методы GET, POST, PUT, PATCH, DELETE.  
 Предоставляет данные в формате JSON.  
 Создан в команде из трех человек с использованием Git в рамках учебного курса Яндекс.Практикум.

# Как запустить проект:
Настройте приложение для работы с базой данных Postgres, для этого оно должно знать все данные для подключения к базе.
Создайте файл .env в директории /yamdb_final/infra/ с переменными окружения для работы с базой данных:
```
    DB_ENGINE=django.db.backends.postgresql # указываем, что работаем с postgresql
    DB_NAME=postgres # имя базы данных
    POSTGRES_USER=postgres # логин для подключения к базе данных
    POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
    DB_HOST=db # название сервиса (контейнера)
    DB_PORT=5432 # порт для подключения к БД
```
Теперь можно запустить контейнер. Перейдите в директорию /yamdb_final/api_yamdb/ и введите команду. Имя контейнера выберете самостоятельно:
```
    docker run --name <имя контейнера> -it -p 8000:8000 final_15
```
Запустите docker-compose, для этого перейдите в директорию yamdb_final/infra/ и введите команду:
```
    docker-compose up -d --build #У вас развернётся проект, запущенный через Gunicorn с базой данных Postgres.
```
Теперь в контейнере web нужно выполнить миграции, создать суперпользователя и собрать статику. Выполните по очереди команды:
```
    docker-compose exec web python manage.py migrate
    docker-compose exec web python manage.py createsuperuser
    docker-compose exec web python manage.py collectstatic --no-input
``` 
Проект доступен по адресу http://localhost/.
По адресу http://localhost/admin/ вы можете авторизоваться под аккаунтом суперпользователя.
